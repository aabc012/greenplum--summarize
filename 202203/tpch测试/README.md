# 软件下载

https://github.com/xfg0218/greenplum--summarize/blob/master/document/file/TPC-H.tar.gz


# TPCH 是什么

TPC-H（商业智能计算测试） 是美国交易处理效能委员会(TPC,Transaction Processing Performance Council) 组织制定的用来模拟决策支持类应用的一个测试集.目前,在学术界和工业界普遍采用它来评价决策支持技术方面应用的性能. 这种商业测试可以全方位评测系统的整体商业计算综合能力，对厂商的要求更高，同时也具有普遍的商业实用意义，

TPC-H查询包含8张数据表、22条复杂的SQL查询，大多数查询包含若干表Join、子查询和Group-by聚合等。

# TPCH 的22条SQL解释


| 序号 | query | query定义 | query含义 | query特点 |
|:----:|:----:|:----:|:----:|:----:|
| 1 | Q1  | 价格统计报告查询 |  Q1语句是查询lineItems的一个定价总结报告。在单个表lineitem上查询某个时间段内，对已经付款的、已经运送的等各类商品进行统计，包括业务量的计费、发货、折扣、税、平均价格等信息。 | 带有分组、排序、聚集操作并存的单表查询操作。这个查询会导致表上的数据有95%到97%行被读取到。 | 
| 2 | Q2 | 最小代价供货商查询 | Q2语句查询获得最小代价的供货商。得到给定的区域内，对于指定的零件（某一类型和大小的零件），哪个供应者能以最低的价格供应它，就可以选择哪个供应者来订货。 | Q2语句的特点是：带有排序、聚集操作、子查询并存的多表查询操作。查询语句没有从语法上限制返回多少条元组，但是TPC-H标准规定，查询结果只返回前100行|
| 3 | Q3 | 运送优先级查询 | Q3语句查询得到收入在前10位的尚未运送的订单。在指定的日期之前还没有运送的订单中具有最大收入的订单的运送优先级和潜在的收入 | Q3语句的特点是：带有分组、排序、聚集操作并存的三表查询操作。查询语句没有从语法上限制返回多少条元组，但是TPC-H标准规定，查询结果只返回前10行 | 
| 4 | Q4 | 订单优先级查询 | Q4语句查询得到订单优先级统计值。计算给定的某三个月的订单的数量，在每个订单中至少有一行由顾客在它的提交日期之后收到。 | Q4语句的特点是：带有分组、排序、聚集操作、子查询并存的单表查询操作。子查询是相关子查询。 | 
| 5 | Q5 | 某地区供货商为公司带来的收入查询 | Q5语句查询得到通过某个地区零件供货商而获得的收入统计信息。可用于决定在给定的区域是否需要建立一个当地分配中心。 | Q5语句的特点是：带有分组、排序、聚集操作、子查询并存的多表连接查询操作。 | 
| 6 | Q6 | 预测收入变化查询 | Q6语句查询得到某一年中通过变换折扣带来的增量收入。 | Q6语句的特点是：带有聚集操作的单表查询操作。查询语句使用了BETWEEN-AND操作符，有的数据库可以对BETWEEN-AND进行优化。 | 
| 7 | Q7 | 货运盈利情况查询 | Q7语句是查询从供货商国家与销售商品的国家之间通过销售获利情况的查询。此查询确定在两国之间货运商品的量用以帮助重新谈判货运合同。 | Q7语句的特点是：带有分组、排序、聚集、子查询操作并存的多表查询操作。子查询的父层查询不存在其他查询对象，是格式相对简单的子查询。 | 
| 8 | Q8 | 国家市场份额查询 | Q8语句是查询在过去的两年中一个给定零件类型在某国某地区市场份额的变化情况。 |  Q8语句的特点是：带有分组、排序、聚集、子查询操作并存的查询操作。子查询的父层查询不存在其他查询对象，是格式相对简单的子查询，但子查询自身是多表连接的查询。 | 
| 9 | Q9 | 产品类型利润估量查询 | Q9语句是查询每个国家每一年所有被定购的零件在一年中的总利润。 | Q9语句的特点是：带有分组、排序、聚集、子查询操作并存的查询操作。子查询的父层查询不存在其他查询对象，是格式相对简单的子查询，但子查询自身是多表连接的查询。子查询中使用了LIKE操作符，有的查询优化器不支持对LIKE操作符进行优化。 | 
| 10 | Q10| 货运存在问题的查询 |  |  | 
| 11 | Q11 | |  |  | 
| 12 | Q12 | |  |  | 
| 13 | Q13 | |  |  | 
| 14 | Q14 | |  |  | 
| 15 | Q15 | |  |  | 
| 16 | Q16| |  |  | 
| 17 | Q17 | |  |  | 
| 18 | Q18| |  |  | 
| 19 | Q19 | |  |  | 
| 20 | Q20| |  |  | 
| 21 | Q21 | |  |  | 
| 22 | Q22 | |  |  | 

















